<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: services/dataGet.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: services/dataGet.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import axios from "axios";
import { formatScore, formatActivityDay, formatSessionDay, formatPerformance } from '../services/dataModeling.jsx';
import { USER_MAIN_DATA, USER_ACTIVITY, USER_AVERAGE_SESSIONS, USER_PERFORMANCE } from '../mocks/mocked_data';

/**
 * Function that filters the data coming from the mocked data. Called if (mock = true) on profile page.
 * 
 * @param {array} data Data that comes from the Mocked data
 * @param {number} id User Id
 * 
 * @returns Mocked data filtered with the User Id
 */
const findData = (data, id) => {
        for (const value of data){
            if (value.userId === Number(id) || value.id === Number(id)){
                return value;
            }
        }
}
/**
 * 
 * @param {boolean} mock Check if using mocked data
 * @param {number} id User id from params
 * 
 * @returns formatted user Data
 */
const dataGetUser = async (mock, id) => {
    if (mock){
        return formatScore(findData(USER_MAIN_DATA, id))
    }
    else{
        const response = await axios.get(`http://localhost:3000/user/${id}`)
        return formatScore(await response.data.data);
    }  
}
/**
 * 
 * @param {boolean} mock Check if using mocked data
 * @param {number} id User id from params
 * 
 * @returns formatted activity Data
 */
const dataGetActivity = async (mock, id) => {
    if (mock){
        return formatActivityDay(findData(USER_ACTIVITY, id))
    }
    else{
        const response = await axios.get(`http://localhost:3000/user/${id}/activity`)
        return formatActivityDay(await response.data.data);
    }  
}  
/**
 * 
 * @param {boolean} mock Check if using mocked data
 * @param {number} id User id from params
 * 
 * @returns formatted average-sessions Data
 */
const dataGetSessions = async (mock, id) => {
    if (mock){
        return formatSessionDay(findData(USER_AVERAGE_SESSIONS, id))
    }
    else{
        const response = await axios.get(`http://localhost:3000/user/${id}/average-sessions`)
        return formatSessionDay(await response.data.data);
    }  
}  
/**
 * 
 * @param {boolean} mock Check if using mocked data
 * @param {number} id User id from params
 * 
 * @returns formatted performance Data
 */
const dataGetPerformance = async (mock, id) => {
    if (mock){
        return formatPerformance(findData(USER_PERFORMANCE, id))
    }
    else{
        const response = await axios.get(`http://localhost:3000/user/${id}/performance`)
        return formatPerformance(await response.data.data);
    }  
}  

export {dataGetUser, dataGetPerformance, dataGetActivity, dataGetSessions}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ActivityGraph">ActivityGraph</a></li><li><a href="global.html#App">App</a></li><li><a href="global.html#CustomTooltipActivity">CustomTooltipActivity</a></li><li><a href="global.html#CustomTooltipSessions">CustomTooltipSessions</a></li><li><a href="global.html#dataGetActivity">dataGetActivity</a></li><li><a href="global.html#dataGetPerformance">dataGetPerformance</a></li><li><a href="global.html#dataGetSessions">dataGetSessions</a></li><li><a href="global.html#dataGetUser">dataGetUser</a></li><li><a href="global.html#findData">findData</a></li><li><a href="global.html#formatActivityDay">formatActivityDay</a></li><li><a href="global.html#formatPerformance">formatPerformance</a></li><li><a href="global.html#formatScore">formatScore</a></li><li><a href="global.html#formatSessionDay">formatSessionDay</a></li><li><a href="global.html#Header">Header</a></li><li><a href="global.html#KeyDataBlock">KeyDataBlock</a></li><li><a href="global.html#PerformanceGraph">PerformanceGraph</a></li><li><a href="global.html#Profile">Profile</a></li><li><a href="global.html#ScoreGraph">ScoreGraph</a></li><li><a href="global.html#SessionGraph">SessionGraph</a></li><li><a href="global.html#Sidebar">Sidebar</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Thu Oct 27 2022 07:00:25 GMT+0200 (heure d’été d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
